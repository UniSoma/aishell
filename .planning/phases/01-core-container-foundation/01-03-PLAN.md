---
phase: 01-core-container-foundation
plan: 03
type: execute
wave: 2
depends_on: ["01-01", "01-02"]
files_modified: []
autonomous: false
must_haves:
  truths:
    - "User can run aishell and enter a shell inside the container"
    - "Project files visible at exact same path as host"
    - "Files created in container have correct host UID/GID"
    - "Container runs as non-root with sudo available"
    - "Basic tools (git, curl, vim, jq, ripgrep) available"
  artifacts: []
  key_links: []
---

<objective>
Human verification that Phase 1 requirements are fully satisfied: the aishell tool works end-to-end with correct permissions, path mounting, and tools.

Purpose: Confirm all Phase 1 success criteria are met before marking the phase complete.

Output: Verified working tool or list of issues to address.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-core-container-foundation/01-CONTEXT.md
@.planning/phases/01-core-container-foundation/01-01-SUMMARY.md
@.planning/phases/01-core-container-foundation/01-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify Phase 1 Success Criteria</name>
  <what-built>
Complete aishell tool with:
- Docker image (Dockerfile, entrypoint.sh, bashrc.aishell)
- CLI script (aishell)
- Dynamic user creation with correct UID/GID
- Same-path volume mounting
- Ephemeral containers
- Development tools installed
  </what-built>
  <how-to-verify>
**Test 1: Basic invocation**
```bash
cd /home/jonasrodrigues/projects/harness
./aishell
```
Expected: You enter a shell with `[aishell]` prompt

**Test 2: Path verification**
Inside container:
```bash
pwd
```
Expected: `/home/jonasrodrigues/projects/harness` (exact same as host)

**Test 3: File ownership**
Inside container:
```bash
touch test-ownership-check
ls -la test-ownership-check
exit
```
On host:
```bash
ls -la test-ownership-check
rm test-ownership-check
```
Expected: File owned by your user (not root)

**Test 4: Sudo access**
Inside container:
```bash
sudo whoami
```
Expected: `root`

**Test 5: Tools available**
Inside container:
```bash
git --version
curl --version | head -1
vim --version | head -1
jq --version
rg --version
```
Expected: Each command shows version info

**Test 6: Ephemeral check**
After exiting container:
```bash
docker ps -a | grep aishell
```
Expected: No output (container was removed)

**Test 7: CLI flags**
```bash
./aishell --help
./aishell --version
./aishell -v
```
Expected: Help text, version "0.1.0", verbose mode shows details
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.

If issues found, describe what failed:
- Which test number failed
- What you observed vs what was expected
  </resume-signal>
</task>

</tasks>

<verification>
This plan IS the verification checkpoint for Phase 1.
All Phase 1 requirements (CORE-01 through CORE-05, DIST-02, DIST-04) are tested in the human-verify task.
</verification>

<success_criteria>
Phase 1 is complete when human confirms:
- [ ] aishell command works and enters container shell
- [ ] Project mounted at exact host path (not /workspace)
- [ ] Files created have correct UID/GID ownership
- [ ] Non-root user with sudo access
- [ ] All required tools available (git, curl, vim, jq, ripgrep)
- [ ] Container is ephemeral (removed on exit)
</success_criteria>

<output>
After completion, create `.planning/phases/01-core-container-foundation/01-03-SUMMARY.md`
</output>
