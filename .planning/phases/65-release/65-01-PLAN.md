---
phase: 65-release
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/aishell/cli.clj
  - CHANGELOG.md
autonomous: true
requirements: [REL-01]

must_haves:
  truths:
    - "CLI version string reports 3.7.0 when running aishell --version"
    - "CHANGELOG.md has a v3.7.0 entry summarizing OpenSpec support"
  artifacts:
    - path: "src/aishell/cli.clj"
      provides: "Version string 3.7.0"
      contains: '"3.7.0"'
    - path: "CHANGELOG.md"
      provides: "v3.7.0 changelog entry"
      contains: "## [3.7.0]"
  key_links:
    - from: "src/aishell/cli.clj"
      to: "CHANGELOG.md"
      via: "version string consistency"
      pattern: "3\\.7\\.0"
---

<objective>
Bump the CLI version to 3.7.0 and add a CHANGELOG.md entry documenting the OpenSpec Support milestone.

Purpose: Ship v3.7.0 so users see the correct version and can read what changed.
Output: Updated cli.clj version string and CHANGELOG.md entry.
</objective>

<execution_context>
@/home/jonasrodrigues/.claude/get-shit-done/workflows/execute-plan.md
@/home/jonasrodrigues/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/63-core-openspec-integration/63-01-SUMMARY.md
@.planning/phases/63-core-openspec-integration/63-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Bump version string to 3.7.0</name>
  <files>src/aishell/cli.clj</files>
  <action>
In `src/aishell/cli.clj`, change the version string on line 22 from `"3.6.0"` to `"3.7.0"`.

This is the single source of truth for the CLI version, used by `aishell --version` and `aishell --version-json`.
  </action>
  <verify>Run `grep 'def version' src/aishell/cli.clj` and confirm it shows `"3.7.0"`.</verify>
  <done>Version string is "3.7.0" in cli.clj.</done>
</task>

<task type="auto">
  <name>Task 2: Add v3.7.0 CHANGELOG entry</name>
  <files>CHANGELOG.md</files>
  <action>
Add a new `## [3.7.0] - 2026-02-18` section in CHANGELOG.md between `## [Unreleased]` and `## [3.6.0]`.

The entry should follow the Keep a Changelog format established in the file. Content:

```markdown
## [3.7.0] - 2026-02-18

OpenSpec as an opt-in development workflow tool. Build with `--with-openspec`
to make the `openspec` command available inside containers.

### Added

- **OpenSpec support**: Opt-in development workflow tool via `--with-openspec` build flag
  - `aishell setup --with-openspec` to include OpenSpec in harness volume
  - Version pinning with `--with-openspec=VERSION`
  - `openspec` command available inside container when enabled
  - `aishell check` shows OpenSpec installation status and version
  - `aishell update` refreshes OpenSpec when enabled
- **OpenSpec documentation**: All 6 user-facing docs updated (README, ARCHITECTURE, CONFIGURATION, HARNESSES, TROUBLESHOOTING, DEVELOPMENT)
```

Do NOT add a link reference at the bottom of the file (the project does not use them). Keep the `## [Unreleased]` section empty (no content between it and the new entry).
  </action>
  <verify>Run `grep -A 2 '3.7.0' CHANGELOG.md` and confirm the heading and date are correct. Verify the entry appears between [Unreleased] and [3.6.0].</verify>
  <done>CHANGELOG.md has a complete v3.7.0 entry with Added section listing OpenSpec features and documentation.</done>
</task>

</tasks>

<verification>
1. `grep 'def version' src/aishell/cli.clj` shows `(def version "3.7.0")`
2. `grep '## \[3.7.0\]' CHANGELOG.md` shows the entry exists with correct date
3. CHANGELOG sections are in order: Unreleased > 3.7.0 > 3.6.0
</verification>

<success_criteria>
- CLI version string is "3.7.0" in src/aishell/cli.clj
- CHANGELOG.md has a v3.7.0 entry dated 2026-02-18 with OpenSpec features
- No other files modified
</success_criteria>

<output>
After completion, create `.planning/phases/65-release/65-01-SUMMARY.md`
</output>
