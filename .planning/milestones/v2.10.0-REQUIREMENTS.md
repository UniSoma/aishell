# Requirements Archive: v2.10.0 Gitleaks Opt-in

**Archived:** 2026-02-05
**Status:** ✅ SHIPPED

This is the archived requirements specification for v2.10.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Agentic Harness Sandbox

**Defined:** 2026-02-05
**Core Value:** Run agentic AI harnesses in isolated, reproducible environments without polluting the host system.

## v2.10.0 Requirements

Requirements for Gitleaks Opt-in milestone. Flip Gitleaks from opt-out to opt-in while preserving filename-based detection.

### Build System

- [x] **BUILD-01**: `--with-gitleaks` flag enables Gitleaks installation (flip default to off)
- [x] **BUILD-02**: Gitleaks NOT installed by default (current default = installed)

### Help System

- [x] **HELP-01**: `aishell gitleaks` command hidden from `--help` when Gitleaks not installed

### Pipeline Integration

- [x] **PIPE-01**: Gitleaks staleness warning skipped when Gitleaks not installed
- [x] **PIPE-02**: Filename-based detection continues to work (independent of Gitleaks)

### Documentation

- [x] **DOCS-01**: README.md updated (build flags, default behavior)
- [x] **DOCS-02**: CONFIGURATION.md updated (Gitleaks config section)
- [x] **DOCS-03**: TROUBLESHOOTING.md updated (Gitleaks-related issues)
- [x] **DOCS-04**: HARNESSES.md updated if Gitleaks mentioned there

## Out of Scope

| Feature | Reason |
|---------|--------|
| Remove filename-based detection | Babashka-side detection is lightweight and valuable without Gitleaks |
| Gitleaks auto-install on first `aishell gitleaks` run | Adds complexity; explicit build flag is cleaner |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| BUILD-01 | Phase 44 | Complete |
| BUILD-02 | Phase 44 | Complete |
| HELP-01 | Phase 44 | Complete |
| PIPE-01 | Phase 44 | Complete |
| PIPE-02 | Phase 44 | Complete |
| DOCS-01 | Phase 45 | Complete |
| DOCS-02 | Phase 45 | Complete |
| DOCS-03 | Phase 45 | Complete |
| DOCS-04 | Phase 45 | Complete |

**Coverage:**
- v2.10.0 requirements: 9 total
- Mapped to phases: 9
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 9 of 9 v2.10.0 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-02-05 as part of v2.10.0 milestone completion*
